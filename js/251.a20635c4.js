"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[251],{251:function(s,a,t){t.r(a),t.d(a,{default:function(){return v}});t(7658);var e=function(){var s=this,a=s._self._c;return a("div",{staticClass:"pay"},[a("van-nav-bar",{attrs:{fixed:"",title:"订单结算台","left-arrow":""},on:{"click-left":function(a){return s.$router.go(-1)}}}),a("div",{staticClass:"address",on:{click:function(a){return s.$router.push("/useraddress")}}},[a("div",{staticClass:"left-icon"},[a("van-icon",{attrs:{name:"logistics"}})],1),s.defaultAddress?a("div",{staticClass:"info"},[a("div",{staticClass:"info-content"},[a("span",{staticClass:"name"},[s._v(s._s(s.defaultAddress.name))]),a("span",{staticClass:"mobile"},[s._v(s._s(s.defaultAddress.phone))])]),a("div",{staticClass:"info-address"},[s._v(" "+s._s(s.detailAddress)+" ")])]):a("div",{staticClass:"info"},[s._v(" 请选择配送地址 ")]),a("div",{staticClass:"right-icon"},[a("van-icon",{attrs:{name:"arrow"}})],1)]),a("div",{staticClass:"pay-list"},[a("div",{staticClass:"list"},s._l(s.order.goodsList,(function(t){return a("div",{key:t.goods_id,staticClass:"goods-item"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.goods_image,alt:""}})]),a("div",{staticClass:"right"},[a("p",{staticClass:"tit text-ellipsis-2"},[s._v(" "+s._s(t.goods_name)+" ")]),a("p",{staticClass:"info"},[a("span",{staticClass:"count"},[s._v("x"+s._s(t.total_num))]),a("span",{staticClass:"price"},[s._v("¥"+s._s(t.goods_price))])])])])})),0),a("div",{staticClass:"flow-num-box"},[a("span",[s._v("共 "+s._s(s.order.orderTotalNum)+" 件商品，合计：")]),a("span",{staticClass:"money"},[s._v("￥"+s._s(s.order.orderPayPrice))])]),a("div",{staticClass:"pay-detail"},[a("div",{staticClass:"pay-cell"},[a("span",[s._v("订单总金额：")]),a("span",{staticClass:"red"},[s._v("￥"+s._s(s.order.orderPayPrice))])]),s._m(0),a("div",{staticClass:"pay-cell"},[a("span",[s._v("配送费用：")]),s.defaultAddress?a("span",{staticClass:"red"},[s._v("+￥0.00")]):a("span",[s._v("请先选择配送地址")])])]),a("div",{staticClass:"pay-way"},[a("span",{staticClass:"tit"},[s._v("支付方式：")]),a("van-radio-group",{model:{value:s.radio,callback:function(a){s.radio=a},expression:"radio"}},[a("van-cell-group",{attrs:{border:!1}},[a("van-cell",{attrs:{icon:"balance-o",title:`余额支付（可用 ¥ ${s.personal.balance} 元）`,clickable:""},on:{click:function(a){s.radio="1"}},scopedSlots:s._u([{key:"right-icon",fn:function(){return[a("van-radio",{attrs:{name:"1"}})]},proxy:!0}])}),a("van-cell",{attrs:{icon:"alipay",title:"支付宝",clickable:""},on:{click:function(a){s.radio="2"}},scopedSlots:s._u([{key:"right-icon",fn:function(){return[a("van-radio",{attrs:{name:"2"}})]},proxy:!0}])}),a("van-cell",{attrs:{icon:"wechat",title:"微信",clickable:""},on:{click:function(a){s.radio="3"}},scopedSlots:s._u([{key:"right-icon",fn:function(){return[a("van-radio",{attrs:{name:"3"}})]},proxy:!0}])})],1)],1)],1),a("div",{staticClass:"buytips"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:s.remark,expression:"remark"}],attrs:{placeholder:"选填：买家留言（50字内）",name:"",id:"",cols:"30",rows:"10"},domProps:{value:s.remark},on:{input:function(a){a.target.composing||(s.remark=a.target.value)}}})])]),a("div",{staticClass:"footer-fixed"},[a("div",{staticClass:"left"},[s._v("实付款："),a("span",[s._v("￥"+s._s(s.order.orderPayPrice))])]),a("div",{staticClass:"tipsbtn",on:{click:s.handlerSubmitOrder}},[s._v("提交订单")])])],1)},r=[function(){var s=this,a=s._self._c;return a("div",{staticClass:"pay-cell"},[a("span",[s._v("优惠券：")]),a("span",[s._v("无优惠券可用")])])}],i=(t(9491),t(6450)),n=t(3822),o=t(2047),l={name:"PayIndex",data(){return{order:"",personal:"",radio:"1",remark:""}},computed:{...(0,n.Se)("address",["defaultAddress"]),detailAddress(){const s=Object.values(this.defaultAddress.region);return s.push(this.defaultAddress.detail),s.join(",")},backUrl(){return this.$route.query.backUrl}},methods:{...(0,n.nv)("address",["getUserAddressListAndDefaultID"]),async handlerSubmitOrder(){const s=await(0,o.pm)(this.$route.query);(0,i.Z)({type:"success",message:"订单提交成功"}),s.data&&"success"===s.message&&(this.backUrl?this.$router.replace(this.backUrl):this.$router.replace("/order"))}},async created(){await this.getUserAddressListAndDefaultID();const{data:{order:s,personal:a}}=await(0,o.B9)(this.$route.query);this.order=s,this.personal=a}},c=l,d=t(1001),u=(0,d.Z)(c,e,r,!1,null,"5e07361f",null),v=u.exports}}]);
//# sourceMappingURL=251.a20635c4.js.map